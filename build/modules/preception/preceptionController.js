/* eslint-disable guard-for-in */
/* eslint-disable no-restricted-syntax */
const preceptionModel = require("./preceptionModel");
const helperWrapper = require("../../helper/wrapper");
const ejs = require("ejs");
const path = require("path");
const htmlPdf = require("html-pdf");
module.exports = {
  getAllPreception: async (req, res) => {
    try {
      let {
        page,
        limit,
        search,
        sort
      } = req.query;
      page = Number(page) || 1;
      limit = Number(limit) || 10;
      search = search || "";
      sort = sort || "nama_pasien ASC";
      let offset = page * limit - limit;
      const totalData = await preceptionModel.getCountPreception(search);
      const totalPage = Math.ceil(totalData / limit);
      if (totalPage < page) {
        offset = 0;
        page = 1;
      }
      const pageInfo = {
        page,
        totalPage,
        limit,
        totalData
      };
      const result = await preceptionModel.getAllPreception(limit, offset, search, sort);
      if (result.length < 1) {
        return helperWrapper.response(res, 200, `Data not found !`, []);
      }
      return helperWrapper.response(res, 200, "Success get data", result, pageInfo);
    } catch (error) {
      return helperWrapper.response(res, 400, `Bad request (${error.message})`, null);
    }
  },
  postPreception: async (req, res) => {
    try {
      const {
        id_pasien,
        kode_rm,
        nama_pasien,
        keluhan,
        diagnosis,
        therapy,
        obat
      } = req.body;
      const setData = {
        id_pasien,
        kode_rm,
        nama_pasien,
        keluhan,
        diagnosis,
        therapy,
        obat
      };
      const result = await preceptionModel.postPreception(setData);
      return helperWrapper.response(res, 200, "Succes create data", result);
    } catch (error) {
      return helperWrapper.response(res, 400, `bad request (${error.message})`, null);
    }
  },
  exportrekammedisPdf: async (request, response) => {
    try {
      const {
        id
      } = request.params;
      const fileName = `Rekammedis-${id}.pdf`;
      // const userBooking = await preceptionModel.getExportPdfByIdRekammedis(id);
      const preception = await preceptionModel.getExportPdfByIdRekammedis(id);

      // join seat => ['A1', 'A2', 'A3']
      // console.log(userBooking);

      // const seatBooking = userBooking.map((value) => value.seat);
      const newData = [];
      // eslint-disable-next-line array-callback-return
      preception.map(value => {
        const setNewData = {
          ...value
        };
        newData.push(setNewData);
      });
      const newDataPreception = newData[0];
      const newDataPreceptionPdf = {
        ...newDataPreception
        // dateBooking: moment().format("DD MMM"),
        // timeBooking: moment().format("LT"),
        // seat: seatBooking,
        // ticketActive: `http://${request.get("host")}/booking/used-ticket/${
        //   newDataBooking.id
        // }`,
      };

      console.log(newDataPreceptionPdf);
      ejs.renderFile(path.resolve("./src/templates/pdf/preception.ejs"), {
        newDataPreceptionPdf
      }, (error, results) => {
        if (!error) {
          const options = {
            height: "11.25in",
            width: "10.5in"
          };
          htmlPdf.create(results, options).toFile(path.resolve(`./public/generate/${fileName}`),
          // eslint-disable-next-line no-shadow
          error => {
            if (error) {
              return helperWrapper.response(response, 400, error.message);
            }
            return helperWrapper.response(response, 200, "Success Generate data!", [newDataPreceptionPdf], {
              url: `http://localhost:3001/generate/${fileName}`
            });
          });
        }
      });
    } catch (error) {
      return helperWrapper.response(response, 400, `Bad Request : ${error.message}`);
    }
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcmVjZXB0aW9uTW9kZWwiLCJyZXF1aXJlIiwiaGVscGVyV3JhcHBlciIsImVqcyIsInBhdGgiLCJodG1sUGRmIiwibW9kdWxlIiwiZXhwb3J0cyIsImdldEFsbFByZWNlcHRpb24iLCJyZXEiLCJyZXMiLCJwYWdlIiwibGltaXQiLCJzZWFyY2giLCJzb3J0IiwicXVlcnkiLCJOdW1iZXIiLCJvZmZzZXQiLCJ0b3RhbERhdGEiLCJnZXRDb3VudFByZWNlcHRpb24iLCJ0b3RhbFBhZ2UiLCJNYXRoIiwiY2VpbCIsInBhZ2VJbmZvIiwicmVzdWx0IiwibGVuZ3RoIiwicmVzcG9uc2UiLCJlcnJvciIsIm1lc3NhZ2UiLCJwb3N0UHJlY2VwdGlvbiIsImlkX3Bhc2llbiIsImtvZGVfcm0iLCJuYW1hX3Bhc2llbiIsImtlbHVoYW4iLCJkaWFnbm9zaXMiLCJ0aGVyYXB5Iiwib2JhdCIsImJvZHkiLCJzZXREYXRhIiwiZXhwb3J0cmVrYW1tZWRpc1BkZiIsInJlcXVlc3QiLCJpZCIsInBhcmFtcyIsImZpbGVOYW1lIiwicHJlY2VwdGlvbiIsImdldEV4cG9ydFBkZkJ5SWRSZWthbW1lZGlzIiwibmV3RGF0YSIsIm1hcCIsInZhbHVlIiwic2V0TmV3RGF0YSIsInB1c2giLCJuZXdEYXRhUHJlY2VwdGlvbiIsIm5ld0RhdGFQcmVjZXB0aW9uUGRmIiwiY29uc29sZSIsImxvZyIsInJlbmRlckZpbGUiLCJyZXNvbHZlIiwicmVzdWx0cyIsIm9wdGlvbnMiLCJoZWlnaHQiLCJ3aWR0aCIsImNyZWF0ZSIsInRvRmlsZSIsInVybCJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9tb2R1bGVzL3ByZWNlcHRpb24vcHJlY2VwdGlvbkNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgZ3VhcmQtZm9yLWluICovXHJcbi8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtc3ludGF4ICovXHJcbmNvbnN0IHByZWNlcHRpb25Nb2RlbCA9IHJlcXVpcmUoXCIuL3ByZWNlcHRpb25Nb2RlbFwiKTtcclxuY29uc3QgaGVscGVyV3JhcHBlciA9IHJlcXVpcmUoXCIuLi8uLi9oZWxwZXIvd3JhcHBlclwiKTtcclxuY29uc3QgZWpzID0gcmVxdWlyZShcImVqc1wiKTtcclxuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xyXG5jb25zdCBodG1sUGRmID0gcmVxdWlyZShcImh0bWwtcGRmXCIpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgZ2V0QWxsUHJlY2VwdGlvbjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgeyBwYWdlLCBsaW1pdCwgc2VhcmNoLCBzb3J0IH0gPSByZXEucXVlcnk7XHJcbiAgICAgIHBhZ2UgPSBOdW1iZXIocGFnZSkgfHwgMTtcclxuICAgICAgbGltaXQgPSBOdW1iZXIobGltaXQpIHx8IDEwO1xyXG4gICAgICBzZWFyY2ggPSBzZWFyY2ggfHwgXCJcIjtcclxuICAgICAgc29ydCA9IHNvcnQgfHwgXCJuYW1hX3Bhc2llbiBBU0NcIjtcclxuXHJcbiAgICAgIGxldCBvZmZzZXQgPSBwYWdlICogbGltaXQgLSBsaW1pdDtcclxuICAgICAgY29uc3QgdG90YWxEYXRhID0gYXdhaXQgcHJlY2VwdGlvbk1vZGVsLmdldENvdW50UHJlY2VwdGlvbihzZWFyY2gpO1xyXG4gICAgICBjb25zdCB0b3RhbFBhZ2UgPSBNYXRoLmNlaWwodG90YWxEYXRhIC8gbGltaXQpO1xyXG5cclxuICAgICAgaWYgKHRvdGFsUGFnZSA8IHBhZ2UpIHtcclxuICAgICAgICBvZmZzZXQgPSAwO1xyXG4gICAgICAgIHBhZ2UgPSAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBwYWdlSW5mbyA9IHtcclxuICAgICAgICBwYWdlLFxyXG4gICAgICAgIHRvdGFsUGFnZSxcclxuICAgICAgICBsaW1pdCxcclxuICAgICAgICB0b3RhbERhdGEsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcmVjZXB0aW9uTW9kZWwuZ2V0QWxsUHJlY2VwdGlvbihcclxuICAgICAgICBsaW1pdCxcclxuICAgICAgICBvZmZzZXQsXHJcbiAgICAgICAgc2VhcmNoLFxyXG4gICAgICAgIHNvcnRcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChyZXN1bHQubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgIHJldHVybiBoZWxwZXJXcmFwcGVyLnJlc3BvbnNlKHJlcywgMjAwLCBgRGF0YSBub3QgZm91bmQgIWAsIFtdKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGhlbHBlcldyYXBwZXIucmVzcG9uc2UoXHJcbiAgICAgICAgcmVzLFxyXG4gICAgICAgIDIwMCxcclxuICAgICAgICBcIlN1Y2Nlc3MgZ2V0IGRhdGFcIixcclxuICAgICAgICByZXN1bHQsXHJcbiAgICAgICAgcGFnZUluZm9cclxuICAgICAgKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiBoZWxwZXJXcmFwcGVyLnJlc3BvbnNlKFxyXG4gICAgICAgIHJlcyxcclxuICAgICAgICA0MDAsXHJcbiAgICAgICAgYEJhZCByZXF1ZXN0ICgke2Vycm9yLm1lc3NhZ2V9KWAsXHJcbiAgICAgICAgbnVsbFxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIHBvc3RQcmVjZXB0aW9uOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICBpZF9wYXNpZW4sXHJcbiAgICAgICAga29kZV9ybSxcclxuICAgICAgICBuYW1hX3Bhc2llbixcclxuICAgICAgICBrZWx1aGFuLFxyXG4gICAgICAgIGRpYWdub3NpcyxcclxuICAgICAgICB0aGVyYXB5LFxyXG4gICAgICAgIG9iYXQsXHJcbiAgICAgIH0gPSByZXEuYm9keTtcclxuICAgICAgY29uc3Qgc2V0RGF0YSA9IHtcclxuICAgICAgICBpZF9wYXNpZW4sXHJcbiAgICAgICAga29kZV9ybSxcclxuICAgICAgICBuYW1hX3Bhc2llbixcclxuICAgICAgICBrZWx1aGFuLFxyXG4gICAgICAgIGRpYWdub3NpcyxcclxuICAgICAgICB0aGVyYXB5LFxyXG4gICAgICAgIG9iYXQsXHJcbiAgICAgIH07XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByZWNlcHRpb25Nb2RlbC5wb3N0UHJlY2VwdGlvbihzZXREYXRhKTtcclxuICAgICAgcmV0dXJuIGhlbHBlcldyYXBwZXIucmVzcG9uc2UocmVzLCAyMDAsIFwiU3VjY2VzIGNyZWF0ZSBkYXRhXCIsIHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXR1cm4gaGVscGVyV3JhcHBlci5yZXNwb25zZShcclxuICAgICAgICByZXMsXHJcbiAgICAgICAgNDAwLFxyXG4gICAgICAgIGBiYWQgcmVxdWVzdCAoJHtlcnJvci5tZXNzYWdlfSlgLFxyXG4gICAgICAgIG51bGxcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBleHBvcnRyZWthbW1lZGlzUGRmOiBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgaWQgfSA9IHJlcXVlc3QucGFyYW1zO1xyXG4gICAgICBjb25zdCBmaWxlTmFtZSA9IGBSZWthbW1lZGlzLSR7aWR9LnBkZmA7XHJcbiAgICAgIC8vIGNvbnN0IHVzZXJCb29raW5nID0gYXdhaXQgcHJlY2VwdGlvbk1vZGVsLmdldEV4cG9ydFBkZkJ5SWRSZWthbW1lZGlzKGlkKTtcclxuICAgICAgY29uc3QgcHJlY2VwdGlvbiA9IGF3YWl0IHByZWNlcHRpb25Nb2RlbC5nZXRFeHBvcnRQZGZCeUlkUmVrYW1tZWRpcyhpZCk7XHJcblxyXG4gICAgICAvLyBqb2luIHNlYXQgPT4gWydBMScsICdBMicsICdBMyddXHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKHVzZXJCb29raW5nKTtcclxuICBcclxuICAgICAgLy8gY29uc3Qgc2VhdEJvb2tpbmcgPSB1c2VyQm9va2luZy5tYXAoKHZhbHVlKSA9PiB2YWx1ZS5zZWF0KTtcclxuICAgICAgY29uc3QgbmV3RGF0YSA9IFtdO1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYXJyYXktY2FsbGJhY2stcmV0dXJuXHJcbiAgICAgIHByZWNlcHRpb24ubWFwKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHNldE5ld0RhdGEgPSB7XHJcbiAgICAgICAgICAuLi52YWx1ZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIG5ld0RhdGEucHVzaChzZXROZXdEYXRhKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnN0IG5ld0RhdGFQcmVjZXB0aW9uID0gbmV3RGF0YVswXTtcclxuXHJcbiAgICAgIGNvbnN0IG5ld0RhdGFQcmVjZXB0aW9uUGRmID0ge1xyXG4gICAgICAgIC4uLm5ld0RhdGFQcmVjZXB0aW9uLFxyXG4gICAgICAgIC8vIGRhdGVCb29raW5nOiBtb21lbnQoKS5mb3JtYXQoXCJERCBNTU1cIiksXHJcbiAgICAgICAgLy8gdGltZUJvb2tpbmc6IG1vbWVudCgpLmZvcm1hdChcIkxUXCIpLFxyXG4gICAgICAgIC8vIHNlYXQ6IHNlYXRCb29raW5nLFxyXG4gICAgICAgIC8vIHRpY2tldEFjdGl2ZTogYGh0dHA6Ly8ke3JlcXVlc3QuZ2V0KFwiaG9zdFwiKX0vYm9va2luZy91c2VkLXRpY2tldC8ke1xyXG4gICAgICAgIC8vICAgbmV3RGF0YUJvb2tpbmcuaWRcclxuICAgICAgICAvLyB9YCxcclxuICAgICAgfTtcclxuICAgICAgY29uc29sZS5sb2cobmV3RGF0YVByZWNlcHRpb25QZGYpXHJcbiAgICAgIGVqcy5yZW5kZXJGaWxlKFxyXG4gICAgICAgIHBhdGgucmVzb2x2ZShcIi4vc3JjL3RlbXBsYXRlcy9wZGYvcHJlY2VwdGlvbi5lanNcIiksXHJcbiAgICAgICAgeyBuZXdEYXRhUHJlY2VwdGlvblBkZiB9LFxyXG4gICAgICAgIChlcnJvciwgcmVzdWx0cykgPT4ge1xyXG4gICAgICAgICAgaWYgKCFlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgIGhlaWdodDogXCIxMS4yNWluXCIsXHJcbiAgICAgICAgICAgICAgd2lkdGg6IFwiMTAuNWluXCIsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGh0bWxQZGYuY3JlYXRlKHJlc3VsdHMsIG9wdGlvbnMpLnRvRmlsZShcclxuICAgICAgICAgICAgICBwYXRoLnJlc29sdmUoYC4vcHVibGljL2dlbmVyYXRlLyR7ZmlsZU5hbWV9YCksXHJcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xyXG4gICAgICAgICAgICAgIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBoZWxwZXJXcmFwcGVyLnJlc3BvbnNlKHJlc3BvbnNlLCA0MDAsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhlbHBlcldyYXBwZXIucmVzcG9uc2UoXHJcbiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgICAgICAyMDAsXHJcbiAgICAgICAgICAgICAgICAgIFwiU3VjY2VzcyBHZW5lcmF0ZSBkYXRhIVwiLFxyXG4gICAgICAgICAgICAgICAgICBbbmV3RGF0YVByZWNlcHRpb25QZGZdLFxyXG4gICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBgaHR0cDovL2xvY2FsaG9zdDozMDAxL2dlbmVyYXRlLyR7ZmlsZU5hbWV9YCxcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIGhlbHBlcldyYXBwZXIucmVzcG9uc2UoXHJcbiAgICAgICAgcmVzcG9uc2UsXHJcbiAgICAgICAgNDAwLFxyXG4gICAgICAgIGBCYWQgUmVxdWVzdCA6ICR7ZXJyb3IubWVzc2FnZX1gXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuXHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBLE1BQU1BLGVBQWUsR0FBR0MsT0FBTyxDQUFDLG1CQUFtQixDQUFDO0FBQ3BELE1BQU1DLGFBQWEsR0FBR0QsT0FBTyxDQUFDLHNCQUFzQixDQUFDO0FBQ3JELE1BQU1FLEdBQUcsR0FBR0YsT0FBTyxDQUFDLEtBQUssQ0FBQztBQUMxQixNQUFNRyxJQUFJLEdBQUdILE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDNUIsTUFBTUksT0FBTyxHQUFHSixPQUFPLENBQUMsVUFBVSxDQUFDO0FBRW5DSyxNQUFNLENBQUNDLE9BQU8sR0FBRztFQUNmQyxnQkFBZ0IsRUFBRSxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUNwQyxJQUFJO01BQ0YsSUFBSTtRQUFFQyxJQUFJO1FBQUVDLEtBQUs7UUFBRUMsTUFBTTtRQUFFQztNQUFLLENBQUMsR0FBR0wsR0FBRyxDQUFDTSxLQUFLO01BQzdDSixJQUFJLEdBQUdLLE1BQU0sQ0FBQ0wsSUFBSSxDQUFDLElBQUksQ0FBQztNQUN4QkMsS0FBSyxHQUFHSSxNQUFNLENBQUNKLEtBQUssQ0FBQyxJQUFJLEVBQUU7TUFDM0JDLE1BQU0sR0FBR0EsTUFBTSxJQUFJLEVBQUU7TUFDckJDLElBQUksR0FBR0EsSUFBSSxJQUFJLGlCQUFpQjtNQUVoQyxJQUFJRyxNQUFNLEdBQUdOLElBQUksR0FBR0MsS0FBSyxHQUFHQSxLQUFLO01BQ2pDLE1BQU1NLFNBQVMsR0FBRyxNQUFNbEIs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